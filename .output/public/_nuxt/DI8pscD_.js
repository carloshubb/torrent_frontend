import{H as J}from"./UGRPo_mx.js";import{X as U,r as i,k as X,o as q,y as l,C as S,D as Q,F as c,S as W,z as n,A as e,K as b,B as u,L as r,U as g,I as v,H as Z,T as ee,E as te}from"#entry";import oe from"./VWedS0MP.js";import{T as se}from"./67mtZOQ9.js";import{t as re}from"./VEgQ9u1z.js";import"./Hg7DAF47.js";import"./wZdazqJ-.js";const le={class:"w-full mt-5 text-white"},ne={class:"container"},ae={class:"bg-gray-800 p-4 rounded-lg mb-6 flex items-center gap-4 flex-wrap"},ie={class:"relative"},de={class:"relative"},ue={key:0,class:"absolute top-full left-0 mt-1 w-40 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},ce=["onClick"],ge={class:"relative"},ve={class:"relative"},fe={key:0,class:"absolute top-full left-0 mt-1 w-32 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},be=["onClick"],ye={class:"relative"},me={class:"relative"},pe={key:0,class:"absolute top-full left-0 mt-1 w-36 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},ke=["onClick"],xe={class:"relative"},we={class:"relative"},he={key:0,class:"absolute top-full left-0 mt-1 w-40 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},_e=["onClick"],Ce={class:"relative"},Me={class:"relative"},Be={key:0,class:"absolute top-full left-0 mt-1 w-32 bg-gray-700 border border-gray-600 rounded shadow-lg z-10"},je=["onClick"],Se={class:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 gap-4"},Ae=["onClick"],$e={class:"w-full h-full bg-black bg-opacity-40 flex items-center justify-center"},Le={class:"text-lg font-semibold text-center px-2"},ze={class:"p-2 flex justify-center"},De={class:"flex"},Te={class:"p-6 text-white"},Ee={class:"text-2xl font-bold mb-2 text-white"},Oe={class:"flex gap-2 mb-4"},Pe=["innerHTML"],Re={class:"text-sm mb-6 leading-relaxed text-white opacity-90"},Ue={__name:"[page]",setup(He){const A=U().params.page,$=W(),a=i({genre:!1,year:!1,language:!1,sortBy:!1,sortOrder:!1}),m=i("All"),p=i("All"),k=i("All"),w=i("Movie Score"),h=i("Descending"),x=i(!1),f=i(null),L=i(["All","Action","Crime","Drama","Comedy","Thriller","Horror","Romance","Sci-Fi","Adventure"]),z=i(["All","2025","2024","2023","2022","2021","2020","2019","2018","2017","2016","2015"]),D=i(["All","English","Spanish","French","German","Italian","Japanese","Korean","Chinese"]),T=i(["Movie Score","Release Date","Title","Rating","Year"]),E=i(["Descending","Ascending"]),_=i([]),C=i(1),M=i(1),O=X(()=>{if(_.value.length>0){let o=[..._.value];return m.value!=="All"&&(o=o.filter(t=>t.genre===m.value)),p.value!=="All"&&(o=o.filter(t=>t.year.toString()===p.value)),k.value!=="All"&&(o=o.filter(t=>t.language===k.value)),o}}),y=o=>{Object.keys(a.value).forEach(t=>{t!==o&&(a.value[t]=!1)}),a.value[o]=!a.value[o]},P=o=>{m.value=o,a.value.genre=!1},R=o=>{p.value=o,a.value.year=!1},H=o=>{k.value=o,a.value.language=!1},V=o=>{w.value=o,a.value.sortBy=!1},Y=o=>{h.value=o,a.value.sortOrder=!1},F=()=>{let o="";switch(w.value){case"Movie Score":o="score";break;case"Release Date":case"Year":o="year";break;case"Title":o="title";break;case"Rating":o="rating";break;default:o="score"}movies.value.sort((t,j)=>{let s=t[o],d=j[o];return typeof s=="string"&&(s=s.toLowerCase(),d=d.toLowerCase()),h.value==="Ascending"?s>d?1:s<d?-1:0:s<d?1:s>d?-1:0})},G=o=>{f.value=o,x.value=!0,document.body.style.overflow="hidden"},B=()=>{x.value=!1,f.value=null,document.body.style.overflow="auto"},I=()=>{$.push(f.value.info_url)},K=o=>{o>=1&&o<=M.value&&(C.value=o)},N=async()=>{try{const o=await re.get(`/library/movies?page=${A}`);_.value=o.data.data,C.value=o.data.current_page,M.value=o.data.last_page}catch(o){console.error("Error fetching torrents:",o)}};return q(()=>{N(),document.addEventListener("click",o=>{o.target.closest(".relative")||Object.keys(a.value).forEach(t=>{a.value[t]=!1})}),document.addEventListener("keydown",o=>{o.key==="Escape"&&x.value&&B()})}),(o,t)=>{const j=J;return n(),l(c,null,[S(j,{title:""}),S(oe,null,{default:Q(()=>[e("div",le,[e("div",ne,[e("div",ae,[e("div",ie,[t[7]||(t[7]=e("label",{class:"block text-sm font-medium mb-1"},"Genre",-1)),e("div",de,[e("button",{onClick:t[0]||(t[0]=s=>y("genre")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-40 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[e("span",null,u(r(m)),1),(n(),l("svg",{class:g(["w-4 h-4 transition-transform",{"rotate-180":r(a).genre}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[6]||(t[6]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),r(a).genre?(n(),l("div",ue,[(n(!0),l(c,null,v(r(L),s=>(n(),l("button",{key:s,onClick:d=>P(s),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},u(s),9,ce))),128))])):b("",!0)])]),e("div",ge,[t[9]||(t[9]=e("label",{class:"block text-sm font-medium mb-1"},"Year",-1)),e("div",ve,[e("button",{onClick:t[1]||(t[1]=s=>y("year")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-32 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[e("span",null,u(r(p)),1),(n(),l("svg",{class:g(["w-4 h-4 transition-transform",{"rotate-180":r(a).year}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[8]||(t[8]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),r(a).year?(n(),l("div",fe,[(n(!0),l(c,null,v(r(z),s=>(n(),l("button",{key:s,onClick:d=>R(s),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},u(s),9,be))),128))])):b("",!0)])]),e("div",ye,[t[11]||(t[11]=e("label",{class:"block text-sm font-medium mb-1"},"Language",-1)),e("div",me,[e("button",{onClick:t[2]||(t[2]=s=>y("language")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-36 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[e("span",null,u(r(k)),1),(n(),l("svg",{class:g(["w-4 h-4 transition-transform",{"rotate-180":r(a).language}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[10]||(t[10]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),r(a).language?(n(),l("div",pe,[(n(!0),l(c,null,v(r(D),s=>(n(),l("button",{key:s,onClick:d=>H(s),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},u(s),9,ke))),128))])):b("",!0)])]),e("div",xe,[t[13]||(t[13]=e("label",{class:"block text-sm font-medium mb-1"},"Sort By",-1)),e("div",we,[e("button",{onClick:t[3]||(t[3]=s=>y("sortBy")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-40 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[e("span",null,u(r(w)),1),(n(),l("svg",{class:g(["w-4 h-4 transition-transform",{"rotate-180":r(a).sortBy}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[12]||(t[12]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),r(a).sortBy?(n(),l("div",he,[(n(!0),l(c,null,v(r(T),s=>(n(),l("button",{key:s,onClick:d=>V(s),class:"block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b"},u(s),9,_e))),128))])):b("",!0)])]),e("div",Ce,[t[15]||(t[15]=e("label",{class:"block text-sm font-medium mb-1"},"Sort",-1)),e("div",Me,[e("button",{onClick:t[4]||(t[4]=s=>y("sortOrder")),class:"bg-gray-700 border border-gray-600 px-4 py-2 rounded w-32 text-left flex items-center justify-between hover:bg-gray-600 transition-colors"},[e("span",null,u(r(h)),1),(n(),l("svg",{class:g(["w-4 h-4 transition-transform",{"rotate-180":r(a).sortOrder}]),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[...t[14]||(t[14]=[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))]),r(a).sortOrder?(n(),l("div",Be,[(n(!0),l(c,null,v(r(E),s=>(n(),l("button",{key:s,onClick:d=>Y(s),class:g(["block w-full text-left px-4 py-2 hover:bg-gray-600 transition-colors first:rounded-t last:rounded-b",{"text-red-400":s==="Descending"}])},u(s),11,je))),128))])):b("",!0)])]),e("div",{class:"flex items-end mt-6"},[e("button",{onClick:F,class:"bg-gray-800 hover:bg-gray-700 border border-gray-600 px-6 py-2 rounded font-medium transition-colors"}," Sort ")])]),e("div",Se,[(n(!0),l(c,null,v(r(O),s=>(n(),l("div",{key:s.id,class:"bg-gray-800 rounded-lg overflow-hidden shadow-lg hover:shadow-xl transition-shadow"},[e("div",{class:"aspect-[2/3] bg-gradient-to-br from-gray-700 to-gray-800 flex items-center justify-center relative cursor-pointer",onClick:d=>G(s)},[e("div",{class:"w-full h-64 bg-cover bg-center",style:Z({backgroundImage:`url('${s.img_url}')`})},[e("div",$e,[e("span",Le,u(s.title),1)])],4)],8,Ae),e("div",ze,[e("div",De,[(n(),l(c,null,v(5,d=>e("svg",{key:d,class:g([d<=s.rate?"text-yellow-400":"text-gray-500","w-4 h-4"]),fill:"currentColor",viewBox:"0 0 20 20"},[...t[16]||(t[16]=[e("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"},null,-1)])],2)),64))])])]))),128))])])]),S(se,{currentPage:r(C),lastPage:r(M),onPageChanged:K},null,8,["currentPage","lastPage"]),r(x)?(n(),l("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4",onClick:B},[e("div",{class:"bg-gradient-to-br from-orange-500 to-red-600 rounded-lg max-w-md w-full mx-4 relative overflow-hidden",onClick:t[5]||(t[5]=ee(()=>{},["stop"]))},[e("button",{onClick:B,class:"absolute top-4 right-4 text-white hover:text-gray-300 z-10"},[...t[17]||(t[17]=[e("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"})],-1)])]),e("div",Te,[e("h2",Ee,u(r(f)?.info_title),1),e("div",Oe,[e("span",{class:"text-sm bg-black bg-opacity-20 px-5 py-1 rounded ml-10",innerHTML:r(f)?.category},null,8,Pe)]),e("p",Re,u(r(f)?.content),1),e("div",{class:"flex gap-3"},[t[18]||(t[18]=e("div",{class:"text-white px-4 py-2 rounded text-sm font-medium transition-colors flex items-center gap-2"},[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})]),te(" Download: ")],-1)),e("button",{onClick:I,class:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded text-sm font-medium transition-colors"}," View Releases ")])])])])):b("",!0)]),_:1})],64)}}};export{Ue as default};
