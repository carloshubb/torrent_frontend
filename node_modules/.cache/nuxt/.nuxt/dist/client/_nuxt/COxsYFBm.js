import{H}from"./UGRPo_mx.js";import I from"./VWedS0MP.js";import{d as p}from"./BC16ygm-.js";import{g as L}from"./Hg7DAF47.js";import{t as j}from"./VEgQ9u1z.js";import{y as c,z as u,A as e,r as D,W as z,o as R,C as B,D as q,F as A,K as T,E as Z,U as S,I as K,B as g,L as U}from"#entry";import"./wZdazqJ-.js";var E={exports:{}},O=E.exports,F;function W(){return F||(F=1,(function(k,$){(function(d,y){k.exports=y()})(O,(function(){return function(d,y,r){d=d||{};var m=y.prototype,_={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function i(n,a,x,b){return m.fromToBase(n,a,x,b)}r.en.relativeTime=_,m.fromToBase=function(n,a,x,b,M){for(var Y,v,w,t=x.$locale().relativeTime||_,o=d.thresholds||[{l:"s",r:44,d:"second"},{l:"m",r:89},{l:"mm",r:44,d:"minute"},{l:"h",r:89},{l:"hh",r:21,d:"hour"},{l:"d",r:35},{l:"dd",r:25,d:"day"},{l:"M",r:45},{l:"MM",r:10,d:"month"},{l:"y",r:17},{l:"yy",d:"year"}],f=o.length,s=0;s<f;s+=1){var l=o[s];l.d&&(Y=b?r(n).diff(x,l.d,!0):x.diff(n,l.d,!0));var h=(d.rounding||Math.round)(Math.abs(Y));if(w=Y>0,h<=l.r||!l.r){h<=1&&s>0&&(l=o[s-1]);var N=t[l.l];M&&(h=M(""+h)),v=typeof N=="string"?N.replace("%d",h):N(h,a,l.l,w);break}}if(a)return v;var V=w?t.future:t.past;return typeof V=="function"?V(v):V.replace("%s",v)},m.to=function(n,a){return i(n,a,this,!0)},m.from=function(n,a){return i(n,a,this)};var C=function(n){return n.$u?r.utc():r()};m.toNow=function(n){return this.to(C(this),n)},m.fromNow=function(n){return this.from(C(this),n)}}}))})(E)),E.exports}var G=W();const J=L(G);function P(k,$){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{d:"M21.731 2.269a2.625 2.625 0 0 0-3.712 0l-1.157 1.157 3.712 3.712 1.157-1.157a2.625 2.625 0 0 0 0-3.712ZM19.513 8.199l-3.712-3.712-12.15 12.15a5.25 5.25 0 0 0-1.32 2.214l-.8 2.685a.75.75 0 0 0 .933.933l2.685-.8a5.25 5.25 0 0 0 2.214-1.32L19.513 8.2Z"})])}function Q(k,$){return u(),c("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon"},[e("path",{"fill-rule":"evenodd",d:"M16.5 4.478v.227a48.816 48.816 0 0 1 3.878.512.75.75 0 1 1-.256 1.478l-.209-.035-1.005 13.07a3 3 0 0 1-2.991 2.77H8.084a3 3 0 0 1-2.991-2.77L4.087 6.66l-.209.035a.75.75 0 0 1-.256-1.478A48.567 48.567 0 0 1 7.5 4.705v-.227c0-1.564 1.213-2.9 2.816-2.951a52.662 52.662 0 0 1 3.369 0c1.603.051 2.815 1.387 2.815 2.951Zm-6.136-1.452a51.196 51.196 0 0 1 3.273 0C14.39 3.05 15 3.684 15 4.478v.113a49.488 49.488 0 0 0-6 0v-.113c0-.794.609-1.428 1.364-1.452Zm-.355 5.945a.75.75 0 1 0-1.5.058l.347 9a.75.75 0 1 0 1.499-.058l-.346-9Zm5.48.058a.75.75 0 1 0-1.498-.058l-.347 9a.75.75 0 0 0 1.5.058l.345-9Z","clip-rule":"evenodd"})])}const X={class:"px-2 md:px-0"},ee={class:"featured-list bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-6"},te={class:"featured-heading bg-gradient-to-r from-orange-400 to-red-500 px-4 py-3 flex items-center"},oe={class:"text-white font-bold"},se={class:"featured-icon"},ne={class:"overflow-x-auto"},re={class:"min-w-full"},ae={class:"px-2 py-3"},le={class:"flex items-center justify-between"},de={class:"flex items-center"},ie=["href"],ce={key:0,class:""},ue=["href"],me={key:0,class:"bg-gray-500 text-black-900 rounded text-xs font-semibold px-2"},fe={class:"text-center px-2 py-2 hidden md:table-cell"},he={class:"bg-green-600 text-white px-1 text-xs rounded"},pe={class:"text-center px-2 py-2 hidden md:table-cell"},xe={class:"bg-red-800 text-white px-1 text-xs rounded"},ve={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},ge={class:"text-center px-2 py-2 text-gray-400 hidden md:table-cell"},ye=["onClick"],_e=["onClick"],be={key:1},Me={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"},Ye={class:"bg-white rounded-2xl shadow-xl p-6 w-full max-w-md"},we={class:"text-gray-600 mb-6"},De={class:"font-bold"},Ve={__name:"uploads",emits:["delete","edit"],setup(k,{emit:$}){const d=D(!1),y=D(!1),r=D(null),m=D(null),_=z({name:"",description:""});p.extend(J);const i=D([]),C=t=>{const o=p();return p(t,p.ISO_8601,!0).isValid()?p(t):(t=t.replace(/(\d+)(st|nd|rd|th)/gi,"$1"),t=t.replace(/'(\d{2})/,"20$1"),t=t.replace(/\./g,""),/^\d{1,2}(:\d{2})?(am|pm)$/i.test(t)?p(`${o.format("YYYY-MM-DD")} ${t}`,["YYYY-MM-DD h:mma","YYYY-MM-DD ha"]):p(t,["ha MMM D YYYY","h:mma MMM D YYYY","MMM D YYYY ha","MMM D YYYY h:mma","MMM D YYYY"]))},n=t=>{const o=C(t),f=p();return o.isValid()?o.isSame(f,"day")?o.format("h:mma"):o.format("MMM. D, YYYY"):"Invalid date"},a=$;function x(t){m.value=t,_.name=t.name||"",_.description=t.detail.description||"",y.value=!0}function b(t){r.value=t,d.value=!0}function M(){d.value=!1,r.value=null}function Y(){a("delete",r.value),v(r.value.id),M()}async function v(t){j.deleteTorrent(t).then(o=>{i.value=i.value.filter(function(f){return f.id!=t})}).catch(o=>console.error(o))}async function w(){try{const t=await j.getUploadTorrents();i.value=t.data}catch(t){console.error("Failed to fetch torrents:",t)}}return R(()=>{w()}),(t,o)=>{const f=H;return u(),c(A,null,[B(f,{title:"Your Torrents Uploads"}),B(I,null,{default:q(()=>[e("div",X,[e("div",ee,[e("div",te,[e("h2",oe,[e("span",se,[e("i",{class:S(t.icon)},null,2)]),o[0]||(o[0]=Z(" Your Torrents Uploads ",-1))])]),e("div",ne,[e("table",re,[o[2]||(o[2]=e("thead",{class:"bg-gray-700"},[e("tr",null,[e("th",{class:"text-left px-4 py-1 text-gray-300 font-semibold"},"name"),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"se "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"le "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"time "),e("th",{class:"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold"},"remove ")])],-1)),e("tbody",null,[i.value.length>0?(u(!0),c(A,{key:0},K(i.value,(s,l)=>(u(),c("tr",{key:l,class:"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs"},[e("td",ae,[e("div",le,[e("div",de,[e("a",{href:`/sub/${s.subcategory_id}/0/`},[s.subcategory?(u(),c("button",ce,[e("i",{class:S(`${s.subcategory.icon}`)},null,2)])):T("",!0)],8,ie),e("a",{href:`/torrent/${s.id}/${s.slug}/`,class:"text-gray-300 hover:text-orange-400 transition-colors ml-3"},g(s.name),9,ue)]),s.comments_count?(u(),c("span",me,g(s.comments_count),1)):T("",!0)])]),e("td",fe,[e("span",he,g(s.seeders),1)]),e("td",pe,[e("span",xe,g(s.leechers),1)]),e("td",ve,g(n(s.approved_at)),1),e("td",ge,[e("button",{hidden:"",onClick:h=>x(s),class:"p-2 hover:text-blue-500 transition",title:"Edit"},[B(U(P),{class:"w-5 h-5"})],8,ye),e("button",{onClick:h=>b(s),class:"p-2 hover:text-red-500 transition",title:"Delete"},[B(U(Q),{class:"w-5 h-5"})],8,_e)])]))),128)):T("",!0),i.value.length==0?(u(),c("tr",be,[...o[1]||(o[1]=[e("td",{colspan:"6",class:"text-center py-4 text-gray-500"},"No torrents found",-1)])])):T("",!0)])])])])]),d.value?(u(),c("div",Me,[e("div",Ye,[o[5]||(o[5]=e("h2",{class:"text-xl font-semibold text-gray-800 mb-4"}," Delete Confirmation ",-1)),e("p",we,[o[3]||(o[3]=Z(" Are you sure you want to delete ",-1)),e("span",De,g(r.value?.name),1),o[4]||(o[4]=Z("? This action cannot be undone. ",-1))]),e("div",{class:"flex justify-end space-x-3"},[e("button",{onClick:M,class:"px-4 py-2 rounded-lg bg-gray-200 hover:bg-gray-300 text-gray-700"}," Cancel "),e("button",{onClick:Y,class:"px-4 py-2 rounded-lg bg-red-500 hover:bg-red-600 text-white"}," Delete ")])])])):T("",!0)]),_:1})],64)}}};export{Ve as default};
