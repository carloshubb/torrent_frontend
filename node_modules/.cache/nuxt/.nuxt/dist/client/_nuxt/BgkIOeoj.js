import{H as u}from"./UGRPo_mx.js";import d from"./VWedS0MP.js";import{T as _}from"./67mtZOQ9.js";import{t as f}from"./VEgQ9u1z.js";import{_ as h}from"./Dlc-fHgj.js";import{X as P,r as t,o as y,y as k,C as o,D as C,F as T,z as g,J as v,K as $,L as a}from"#entry";import"./Hg7DAF47.js";import"./wZdazqJ-.js";const z={__name:"[page]",setup(w){const n=P(),s=n.params.key,p=n.params.page,r=t({});t([]),t([]);const c=t([]),l=t([]);async function i(){try{const e=await f.get(`/torrents/type?type=search&search=${s}&page=${p}`);e?.data?.data?.data.length>0&&(c.value=e.data.data.current_page,l.value=e.data.data.last_page),r.value={icon:"flaticon-top",title:`Searching for: ${s}`,data:e.data.data.data}}catch(e){console.error("Failed to fetch torrents:",e)}}return y(()=>{i()}),(e,x)=>{const m=u;return g(),k(T,null,[o(m,{title:"Trending Torrents"}),o(d,null,{default:C(()=>[Object.keys(a(r)).length>0?(g(),v(h,{key:"searching",torrents:a(r),flag_edit:!0},null,8,["torrents"])):$("",!0),o(_,{currentPage:a(c),lastPage:a(l),onPageChanged:e.onPageChange},null,8,["currentPage","lastPage","onPageChanged"])]),_:1})],64)}}};export{z as default};
