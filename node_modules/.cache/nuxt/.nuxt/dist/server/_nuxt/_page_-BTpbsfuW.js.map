{"version":3,"file":"_page_-BTpbsfuW.js","sources":["../../../../../../../pages/cat/[category]/[page].vue"],"sourcesContent":["<template>\r\n\r\n    <Head title=\"Trending Torrents\" />\r\n    <AppLayout>\r\n        <div class=\"space-y-4  mt-5\">\r\n\r\n            <div class=\"flex flex-wrap gap-2 bg-gray-300 p-2 rounded\">\r\n                <a v-for=\"(item, index) in topLinks\" :key=\"index\" :href=\"`/sub/${item.id}/1/`\" class=\"btn-icon\">\r\n                    <i :class=\"item.icon\"></i> {{ item.name }}\r\n                </a>\r\n            </div>\r\n\r\n        </div>\r\n        <TorrentHome v-if=\"Object.keys(torrents).length > 0\" key=\"trending\" :torrents=\"torrents\" :flag_edit=true />\r\n        <TorrentPagination v-if=\"lastPage > 1\" :currentPage=\"currentPage\" :lastPage=\"lastPage\" @page-changed=\"onPageChange\" />\r\n    </AppLayout>\r\n</template>\r\n\r\n<script setup>\r\n\r\nimport AppLayout from '~/layouts/AppLayout.vue';\r\nimport TorrentPagination from '~/components/TorrentPagination.vue';\r\nimport torrentService from '~/api/torrentService';\r\nconst config = useRuntimeConfig()\r\nconst torrents = ref({})\r\nconst head_title = ref('')\r\nconst icon = \"flaticon-top\"\r\nconst route = useRoute()\r\nconst category = route.params.category\r\nconst topLinks = ref([]);\r\nconst page = route.params.page\r\nconst currentPage = ref(1);\r\nconst lastPage = ref(1);\r\n// SEO and meta tags\r\nuseHead({\r\n    title: '1331x - Ultimate Torrent Hub',\r\n    meta: [\r\n        { name: 'description', content: 'Your ultimate destination for high-quality torrents and streaming content' }\r\n    ]\r\n})\r\nonMounted(() => {\r\n    fetchTorrents();\r\n});\r\n// Fetch function to get torrent data and update dashboard_data\r\nasync function fetchTorrents() {\r\n    try {\r\n        const response = await torrentService.get(`/torrents/type?type=category&cat=${category}&page=${page}`);\r\n        // For demo, assuming all torrents in one group with title \"All Torrents\"\r\n        topLinks.value = response.data.subcategories\r\n        if (response?.data?.data?.data?.length > 0) {\r\n            head_title.value = response.data.data.data[0].category.name + ' Torrents download list'\r\n        }        \r\n        if (response?.data?.subcategories?.length > 0) {\r\n            currentPage.value = response.data.data.current_page\r\n            lastPage.value = response.data.data.last_page\r\n            \r\n        }\r\n        torrents.value = {\r\n            icon: icon,\r\n            title: head_title,\r\n            data: response.data.data.data,\r\n        }\r\n\r\n    } catch (error) {\r\n        console.error('Failed to fetch torrents:', error)\r\n    }\r\n\r\n\r\n}\r\n\r\n\r\n\r\n</script>"],"names":["_ssrRenderComponent","_push","_parent","_unref","_ssrRenderClass","_ssrInterpolate","onPageChange","_createVNode","_openBlock","_createBlock","_Fragment","_renderList","_toDisplayString"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AAwBA,UAAM,WAAW,IAAI,EAAE;AACJ,QAAI,EAAE;AAEzB,UAAM,QAAQ,SAAQ;AACL,UAAM,OAAO;AAC9B,UAAM,WAAW,IAAI,CAAA,CAAE;AACV,UAAM,OAAO;AAC1B,UAAM,cAAc,IAAI,CAAC;AACzB,UAAM,WAAW,IAAI,CAAC;AAEtB,YAAQ;AAAA,MACJ,OAAO;AAAA,MACP,MAAM;AAAA,QACF,EAAE,MAAM,eAAe,SAAS,4EAA2E;AAAA,MACnH;AAAA,IACA,CAAC;;;;;AArCS,YAAAA,mBAAA,iBAAA,EAAA,OAAM,oBAAmB,GAAA,MAAA,OAAA,CAAA;;yBAC/B,CAYY,GAAAC,QAAAC,UAAA,aAAA;;;0BAR2BC,MAAA,QAAA,GAAQ,CAAxB,MAAM,UAAK;wCAA6B,QAAI,QAAU,KAAK,EAAE,KAAA,2CACzDC,eAAA,KAAK,IAAI,sBAAUC,eAAA,KAAK,IAAI;;;AAKhC,gBAAA,OAAO,KAAKF,MAAA,QAAA,CAAQ,EAAE,SAAM,GAAA;;gBAAM,KAAI;AAAA,gBAAY,UAAUA,MAAA,QAAA;AAAA,gBAAW,WAAU;AAAA;;;;gBAC3EA,MAAA,QAAA,IAAQ,GAAA;;gBAAO,aAAaA,MAAA,WAAA;AAAA,gBAAc,UAAUA,MAAA,QAAA;AAAA,gBAAW,eAAcG,KAAAA;AAAAA;;;;;;cAVtGC,YAQM,OAAA,EARD,OAAM,iBAAiB,GAAA;AAAA,gBAExBA,YAIM,OAAA,EAJD,OAAM,+CAA8C,GAAA;AAAA,mBACrDC,UAAA,IAAA,GAAAC,YAEIC,UAAA,MAAAC,WAFuBR,MAAA,QAAA,GAAQ,CAAxB,MAAM,UAAK;wCAAtBM,YAEI,KAAA;AAAA,sBAFkC,KAAK;AAAA,sBAAQ,MAAI,QAAU,KAAK,EAAE;AAAA,sBAAO,OAAM;AAAA;sBACjFF,YAA0B,KAAA;AAAA,wBAAtB,OAAO,KAAK;AAAA;sCAAU,MAACK,gBAAG,KAAK,IAAI,GAAA,CAAA;AAAA;;;;cAKhC,OAAO,KAAKT,MAAA,QAAA,CAAQ,EAAE,SAAM,kBAA/CM,YAA2G,wBAAA;AAAA,gBAAtD,KAAI;AAAA,gBAAY,UAAUN,MAAA,QAAA;AAAA,gBAAW,WAAU;AAAA;cAC3EA,MAAA,QAAA,IAAQ,kBAAjCM,YAAsH,mBAAA;AAAA;gBAA9E,aAAaN,MAAA,WAAA;AAAA,gBAAc,UAAUA,MAAA,QAAA;AAAA,gBAAW,eAAcG,KAAAA;AAAAA;;;;;;;;;;;;;;;;"}