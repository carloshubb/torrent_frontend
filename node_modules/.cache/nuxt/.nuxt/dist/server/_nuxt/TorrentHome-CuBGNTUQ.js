import { ref, mergeProps, unref, useSSRContext } from "vue";
import { ssrRenderAttrs, ssrRenderClass, ssrInterpolate, ssrRenderList, ssrRenderAttr } from "vue/server-renderer";
import { useRouter } from "vue-router";
import { _ as _export_sfc } from "../server.mjs";
const _sfc_main = {
  __name: "TorrentHome",
  __ssrInlineRender: true,
  props: {
    torrents: {
      type: Object,
      required: true
    },
    flag_edit: Boolean
  },
  setup(__props) {
    const props = __props;
    const head_title = props.torrents.title;
    const icon = props.torrents.icon || "flaticon-movies";
    const torrents = props.torrents.data;
    const isLoggedIn = ref(false);
    ref(props.flag_edit ?? false);
    useRouter();
    const formatApprovedAt = (date) => {
      return new Date(date).toLocaleDateString("en-US", {
        year: "numeric",
        month: "short",
        day: "numeric"
      });
    };
    return (_ctx, _push, _parent, _attrs) => {
      _push(`<div${ssrRenderAttrs(mergeProps({ class: "px-2 md:px-0" }, _attrs))} data-v-739b062d><div class="featured-list bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-5" data-v-739b062d><div class="featured-heading bg-gradient-to-r from-orange-400 to-red-500 px-4 py-3 flex items-center" data-v-739b062d><h2 class="text-white font-bold" data-v-739b062d><span class="featured-icon" data-v-739b062d><i class="${ssrRenderClass(unref(icon))}" data-v-739b062d></i></span> ${ssrInterpolate(unref(head_title))}</h2></div><div class="overflow-x-auto" data-v-739b062d><table class="min-w-full" data-v-739b062d><thead class="bg-gray-700" data-v-739b062d>`);
      if (unref(torrents).length == 0) {
        _push(`<tr data-v-739b062d><td colspan="6" class="text-center py-4 text-gray-500" data-v-739b062d>No torrents found</td></tr>`);
      } else {
        _push(`<!---->`);
      }
      if (unref(torrents).length > 0) {
        _push(`<tr data-v-739b062d><th class="text-left px-4 py-1 text-gray-300 font-semibold" data-v-739b062d>name</th><th class="hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold" data-v-739b062d>se </th><th class="hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold" data-v-739b062d>le </th><th class="hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold" data-v-739b062d>time </th><th class="hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold" data-v-739b062d>size </th><th class="text-center px-4 py-1 text-gray-300 font-semibold" data-v-739b062d>uploader</th>`);
        if (unref(isLoggedIn)) {
          _push(`<th class="text-center px-4 py-1 text-gray-300 font-semibold" data-v-739b062d>edit</th>`);
        } else {
          _push(`<!---->`);
        }
        _push(`</tr>`);
      } else {
        _push(`<!---->`);
      }
      _push(`</thead><tbody data-v-739b062d><!--[-->`);
      ssrRenderList(unref(torrents), (torrent, index) => {
        _push(`<tr class="border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs" data-v-739b062d><td class="px-2 py-3" data-v-739b062d><div class="flex items-center justify-between" data-v-739b062d><div class="flex items-center" data-v-739b062d><a${ssrRenderAttr("href", `/sub/${torrent.subcategory_id}/1/`)} data-v-739b062d>`);
        if (torrent.subcategory) {
          _push(`<button class="" data-v-739b062d><i class="${ssrRenderClass(`${torrent.subcategory.icon}`)}" data-v-739b062d></i></button>`);
        } else {
          _push(`<!---->`);
        }
        _push(`</a><a${ssrRenderAttr("href", `/torrent/${torrent.id}/${torrent.slug}/`)} class="text-gray-300 hover:text-orange-400 transition-colors ml-3" data-v-739b062d>${ssrInterpolate(torrent.name)}</a></div>`);
        if (torrent.comments_count) {
          _push(`<span class="bg-gray-500 text-black-900 rounded text-xs font-semibold px-2" data-v-739b062d>${ssrInterpolate(torrent.comments_count)}</span>`);
        } else {
          _push(`<!---->`);
        }
        _push(`</div></td><td class="text-center px-2 py-2 hidden md:table-cell" data-v-739b062d><span class="bg-green-600 text-white px-1 text-xs rounded" data-v-739b062d>${ssrInterpolate(torrent.seeders)}</span></td><td class="text-center px-2 py-2 hidden md:table-cell" data-v-739b062d><span class="bg-red-800 text-white px-1 text-xs rounded" data-v-739b062d>${ssrInterpolate(torrent.leechers)}</span></td><td class="text-center px-2 py-2 text-gray-400 hidden md:table-cell" data-v-739b062d>${ssrInterpolate(formatApprovedAt(torrent.approved_at))}</td><td class="text-center px-2 py-2 text-gray-400 hidden md:table-cell" data-v-739b062d>${ssrInterpolate(torrent.size_formatted)}</td><td class="text-center px-2 py-2" data-v-739b062d><a${ssrRenderAttr("href", `${torrent.uploader}1`)} data-v-739b062d><span class="text-orange-400 hover:text-orange-300 transition-colors" data-v-739b062d>${ssrInterpolate(torrent.uploader?.split("/")[2])}</span></a></td>`);
        if (unref(isLoggedIn)) {
          _push(`<td class="text-center px-2 py-2 text-gray-400 hidden md:table-cell" data-v-739b062d><button data-v-739b062d>✏️</button></td>`);
        } else {
          _push(`<!---->`);
        }
        _push(`</tr>`);
      });
      _push(`<!--]--></tbody></table></div></div></div>`);
    };
  }
};
const _sfc_setup = _sfc_main.setup;
_sfc_main.setup = (props, ctx) => {
  const ssrContext = useSSRContext();
  (ssrContext.modules || (ssrContext.modules = /* @__PURE__ */ new Set())).add("components/TorrentHome.vue");
  return _sfc_setup ? _sfc_setup(props, ctx) : void 0;
};
const __nuxt_component_1 = /* @__PURE__ */ _export_sfc(_sfc_main, [["__scopeId", "data-v-739b062d"]]);
export {
  __nuxt_component_1 as _
};
//# sourceMappingURL=TorrentHome-CuBGNTUQ.js.map
