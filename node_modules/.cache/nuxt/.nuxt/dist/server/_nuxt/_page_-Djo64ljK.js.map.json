{"file":"_page_-Djo64ljK.js","mappings":"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","names":["_ssrRenderComponent","_push","_parent","_unref","_ssrInterpolate","page_type","_ssrRenderAttr","formatApprovedAt","onPageChange","_createBlock","_createVNode","_toDisplayString","_openBlock","_Fragment","_renderList"],"sources":["../../../../../../../utils/formatDate.js","../../../../../../../pages/user/[user]/[page].vue"],"sourcesContent":["function approveDate(date) {\r\n    if (!date) return '';\r\n    const options = { year: 'numeric', month: 'long', day: 'numeric' };\r\n    return new Date(date).toLocaleDateString(undefined, options);\r\n}\r\nexport function formatApprovedAt(date) {\r\n    return approveDate(date);\r\n}\r\nexport function formatDate(date) {\r\n    if (!date) return '';\r\n    const options = { year: 'numeric', month: '2-digit', day: '2-digit' };\r\n    return new Date(date).toLocaleDateString(undefined, options);\r\n}\r\n\r\nexport function formatTime(date) {\r\n    if (!date) return '';\r\n    const options = { hour: '2-digit', minute: '2-digit' };\r\n    return new Date(date).toLocaleTimeString(undefined, options);\r\n}\r\nexport function formatDateTime(date) {\r\n    if (!date) return '';\r\n    const options = { year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit' };\r\n    return new Date(date).toLocaleString(undefined, options);\r\n}","<script setup>\r\nimport AppLayout from '~/layouts/AppLayout.vue'\r\nimport TorrentPagination from '~/components/TorrentPagination.vue'\r\nimport torrentService from '~/api/torrentService'\r\nimport dayjs from 'dayjs'\r\n// some data in parent\r\nconst torrents = ref([])\r\nconst userInfo = ref({})\r\nconst currentPage = ref(1)\r\nconst lastPage = ref(1)\r\nconst route = useRoute()\r\nconst user_id = route.params.user\r\nconst page = route.params.page\r\nconst getAge = (birthdayString) => {\r\n    const birthday = dayjs(birthdayString);\r\n    if (!birthday.isValid()) return null;\r\n    return dayjs().diff(birthday, 'year'); // difference in years\r\n};\r\n\r\n\r\n// Fetch data from API\r\nconst fetchTorrentDetails = async () => {\r\n  try {\r\n    const response = await torrentService.get(`/user/${user_id}/${page}`); \r\n    torrents.value = response.data.torrents.data // Assign to ref\r\n    userInfo.value = response.data.info // Assign to ref\r\n    currentPage.value = response.data.torrents.current_page\r\n    lastPage.value = response.data.torrents.last_page\r\n  } catch (error) {\r\n    console.error('Error fetching torrent details:', error);\r\n  }\r\n};\r\n//const torrents = props.data.torrent.data\r\n// Run fetch on component mount\r\nonMounted(() => {\r\n    fetchTorrentDetails()\r\n\r\n})\r\n</script>\r\n<template>\r\n\r\n    <Head title='' />\r\n    <AppLayout>\r\n        <div class=\"flex-1 mt-5\" v-if=\"userInfo\">\r\n            <!-- Title -->\r\n            <div class=\"bg-gray-700 px-4 py-2 mb-4 rounded\">\r\n                <h1 class=\"text-lg font-semibold\">{{ userInfo.username }}</h1>\r\n            </div>\r\n\r\n            <!-- Torrent Info -->\r\n            <div class=\"bg-gray-800 rounded mb-4\">\r\n                <div class=\"grid grid-cols-2 gap-4 p-4 text-sm\">\r\n                    <div class=\"space-y-2\">\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-400\">Username:</span>\r\n                            <span>{{ userInfo.username }}</span>\r\n                        </div>\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-400\">User Rank:</span>\r\n                            <span>{{ userInfo.rank }}</span>\r\n                        </div>\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-400\">Privacy:</span>\r\n                            <span>{{ userInfo.privacy }}</span>\r\n                        </div>\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-400\">Join Date:</span>\r\n                            <span>{{ formatApprovedAt(userInfo.joindate) }}</span>\r\n                        </div>\r\n\r\n                    </div>\r\n                    <div class=\"space-y-2\">\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-400\">Age:</span>\r\n                            <span>{{ getAge(userInfo.birthday) }}</span>\r\n                        </div>\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-400\">Gender:</span>\r\n                            <span>{{ userInfo.gender }}</span>\r\n                        </div>\r\n                        <div class=\"flex justify-between\">\r\n                            <span class=\"text-gray-400\">Country:</span>\r\n                            <span>{{ userInfo.country }}</span>\r\n                        </div>\r\n\r\n                    </div>\r\n                </div>\r\n\r\n\r\n            </div>\r\n        </div>\r\n        <div class=\"px-2 md:px-0\">\r\n            <!-- Popular Torrents Section -->\r\n            <div class=\"featured-list bg-gray-800 rounded-lg overflow-hidden shadow-xl mt-6\">\r\n\r\n\r\n                <div class=\"overflow-x-auto\">\r\n                    <table class=\"min-w-full\">\r\n                        <thead class=\"bg-gray-700\">\r\n                            <tr>\r\n                                <th class=\"text-left px-4 py-1 text-gray-300 font-semibold\">name</th>\r\n                                <th class=\"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold\">se\r\n                                </th>\r\n                                <th class=\"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold\">le\r\n                                </th>\r\n                                <th class=\"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold\">time\r\n                                </th>\r\n                                <th class=\"hidden md:table-cell text-center px-4 py-1 text-gray-300 font-semibold\">size\r\n                                </th>\r\n                            </tr>\r\n                        </thead>\r\n                        <tbody>\r\n                            <tr v-if=\"torrents.length > 0\" v-for=\"(torrent, index) in torrents\" :key=\"index\"\r\n                                class=\"border-b border-gray-700 hover:bg-gray-750 transition-colors cursor-pointer text-xs\">\r\n                                <td class=\"px-2 py-3\" v-if=\"page_type != 'top' && page_type != 'trending'\">\r\n                                    <div class=\"flex items-center justify-between \">\r\n                                        <!-- Left side: icon + name -->\r\n                                        <div class=\"flex items-center\">\r\n                                            <a :href=\"`/sub/${torrent.subcategory_id}/0/`\">\r\n                                                <button class=\"\" v-if=\"torrent.subcategory\"><i\r\n                                                        :class=\"`${torrent.subcategory.icon}`\"></i></button>\r\n                                            </a>\r\n                                            <a :href=\"`/torrent/${torrent.id}/${torrent.slug}/`\"\r\n                                                class=\"text-gray-300 hover:text-orange-400 transition-colors ml-3\">\r\n                                                {{ torrent.name }}\r\n                                            </a>\r\n                                        </div>\r\n\r\n                                        <!-- Right side: badge -->\r\n                                        <span v-if=\"torrent.comments_count\"\r\n                                            class=\"bg-gray-500 text-black-900 rounded text-xs font-semibold px-2\">\r\n                                            {{ torrent.comments_count }}\r\n                                        </span>\r\n                                    </div>\r\n                                </td>\r\n\r\n                                <td class=\"px-2 py-3\" v-if=\"page_type == 'top' || page_type == 'trending'\">\r\n                                    <div class=\"flex items-center justify-between \">\r\n                                        <!-- Left side: icon + name -->\r\n                                        <div class=\"flex items-center\">\r\n                                            <a :href=\"`/sub/${torrent.subcategory_id}/0/`\">\r\n                                                <button class=\"\" v-if=\"torrent.subcategory\"><i\r\n                                                        :class=\"`${torrent.subcategory.icon}`\"></i></button>\r\n                                            </a>\r\n                                            <a :href=\"`${torrent.torrent_link}`\"\r\n                                                class=\"text-gray-300 hover:text-orange-400 transition-colors ml-3\">\r\n                                                {{ torrent.name }}\r\n                                            </a>\r\n                                        </div>\r\n\r\n                                        <!-- Right side: badge -->\r\n                                        <span v-if=\"torrent.comments_count\"\r\n                                            class=\"bg-gray-500 text-black-900 rounded text-xs font-semibold px-2\">\r\n                                            {{ torrent.comments_count }}\r\n                                        </span>\r\n                                    </div>\r\n                                </td>\r\n                                <td class=\"text-center px-2 py-2 hidden md:table-cell\">\r\n                                    <span class=\"bg-green-600 text-white px-1 text-xs rounded \">\r\n                                        {{ torrent.seeders }}\r\n                                    </span>\r\n                                </td>\r\n                                <td class=\"text-center px-2 py-2 hidden md:table-cell\">\r\n                                    <span class=\"bg-red-800 text-white px-1 text-xs rounded \">\r\n                                        {{ torrent.leechers }}\r\n                                    </span>\r\n                                </td>\r\n                                <td class=\"text-center px-2 py-2 text-gray-400 hidden md:table-cell\">\r\n                                    {{ formatApprovedAt(torrent.approved_at) }}\r\n                                </td>\r\n                                <td class=\"text-center px-2 py-2 text-gray-400 hidden md:table-cell\">\r\n                                    {{ torrent.size_formatted }}\r\n                                </td>\r\n\r\n                            </tr>\r\n                        </tbody>\r\n                    </table>\r\n\r\n                    <!-- Pagination component -->\r\n                    <TorrentPagination :currentPage=\"currentPage\" :lastPage=\"lastPage\" @page-changed=\"onPageChange\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </AppLayout>\r\n</template>\r\n"],"version":3}